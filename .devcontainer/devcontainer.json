// .devcontainer/devcontainer.json
{
    "name": "dotnet-dev",
    "dockerComposeFile": [
      "../docker-compose.yml"
    ],
    "service": "webapi",
    "workspaceFolder": "/app",
    "settings": {
      // color theme
      "workbench.colorTheme": "One Dark Pro",
      // intellegent codeing
      "editor.suggestOnTriggerCharacters": false,
      "editor.quickSuggestions": {
        "other": true,
        "comments": false,
        "strings": false
      },
      "editor.acceptSuggestionOnCommitCharacter": false,
      "editor.acceptSuggestionOnEnter": "on",
      "editor.parameterHints.enabled": false,
      "editor.semanticHighlighting.enabled": true,
      "editor.semanticTokenColorCustomizations": {    // adjust color
        "enabled": true,
        "rules": {
          "parameter": {
            "foreground": "#C8D9A8",     // ç²‰ç´…è‰²ï¼ˆä½ å¯ä»¥æ›æ‰ï¼‰
            "fontStyle": "italic"        // é¡¯ç¤ºæ–œé«” âœ…
          },
          "method": {
          "foreground": "#4FC1FF",    // ğŸ”µ æ–¹æ³•åç¨±çš„é¡è‰²ï¼Œæ¥è¿‘è—è‰²
          "fontStyle": "bold"
          }
        }
      },

      // Tab è£œå…¨èˆ‡ TabOut å”èª¿è¨­å®š
      "editor.tabCompletion": "on",
      "tabout.useDefaultTab": false,
      "tabout.activationOnTab": true,
      "tabout.activationOnEnter": false,

      // éµç›¤é«”é©—æœ€ä½³åŒ–
      "editor.minimap.enabled": false,
      "editor.cursorSmoothCaretAnimation": true,
      "editor.cursorBlinking": "smooth",

      // æ ¼å¼åŒ–èˆ‡ç·¨ç¢¼
      "files.trimTrailingWhitespace": true,
      "files.insertFinalNewline": true,
      "editor.formatOnSave": false,

      // copilot setting
      "github.copilot.enable": {
          "*": false
      },
      // ğŸ”¥ OmniSharpåŒæ­¥æœ€ä½³åŒ–è¨­å®š
           // c# test GUI
      "dotnet.testExplorer.enable": true,
      // let dotnet server use dotnet8
      "dotnet.server.useOmnisharp": true,
      "omnisharp.useModernNet": true,
      "omnisharp.monitorFileSystem": true,
      "omnisharp.enableEditorConfigSupport": true,
      "omnisharp.enableRoslynAnalyzers": true,
      // âœ… å¢åŠ ç­‰å¾…æ™‚é–“é¿å…å¤§å‹å°ˆæ¡ˆè¶…æ™‚
      "omnisharp.projectLoadTimeout": 60,
      // âœ… é¿å…å› ç‚ºæ²’æœ‰åµæ¸¬ .csproj å°± IntelliSense æ›æ‰
      "omnisharp.enableEditorConfigSupport": true
    },
    "extensions": [
      "albert.TabOut",                    // è·³å‡ºæ‹¬è™Ÿç”¨
      "ms-dotnettools.csdevkit",        // C# é–‹ç™¼å¥—ä»¶
      "ms-dotnettools.vscode-dotnet-runtime", // .NET åŸ·è¡Œæ™‚
      "esbenp.prettier-vscode",           // æ ¼å¼åŒ–å™¨ï¼ˆå¯é¸ï¼‰
      "GitHub.copilot",                    // GitHub Copilot
      "ms-mssql.mssql" ,
      "patcx.vscode-nuget-gallery",       //Nugetå¥—ä»¶
      "kreativ-software.csharpextensions",
      "zhuangtongfa.material-theme",
      "ritwickdey.liveserver"
    ],
    "forwardPorts": [5289, 7074, 4040],
    "portsAttributes": {
      "5289": {
        "label": "HTTP (WebAPI)",
        "onAutoForward": "notify"
      },
      "7074": {
        "label": "HTTPS (WebAPI)",
        "onAutoForward": "notify"
      },
      "remoteUser": "root"
      // "postCreateCommand": "git clone https://github.com/YOUR_USERNAME/YOUR_REPO.git /workspace && rm -rf /workspace/.git"
    }
  }
